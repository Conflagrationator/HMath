<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>CLaSH.Prelude.Safe</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_CLaSH-Prelude-Safe.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">clash-prelude-0.11: CAES Language for Synchronous Hardware - Prelude library</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(C) 2013-2016 University of Twente</td></tr><tr><th>License</th><td>BSD2 (see the file LICENSE)</td></tr><tr><th>Maintainer</th><td>Christiaan Baaij &lt;christiaan.baaij@gmail.com&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe</td></tr><tr><th>Language</th><td>Haskell2010</td></tr><tr><th>Extensions</th><td><ul class="extension-list"><li>DataKinds</li><li>FlexibleContexts</li><li>TypeOperators</li><li>ExplicitNamespaces</li></ul></td></tr></table><p class="caption">CLaSH.Prelude.Safe</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Creating synchronous sequential circuits</a></li><li><a href="#g:2">ROMs</a></li><li><a href="#g:3">RAM primitives with a combinational read port</a></li><li><a href="#g:4">BlockRAM primitives</a></li><li><a href="#g:5">BlockRAM read/write conflict resolution</a></li><li><a href="#g:6">Utility functions</a></li><li><a href="#g:7">Exported modules</a><ul><li><a href="#g:8">Synchronous signals</a></li><li><a href="#g:9">DataFlow interface</a></li><li><a href="#g:10">Datatypes</a><ul><li><a href="#g:11">Bit vectors</a></li><li><a href="#g:12">Arbitrary-width numbers</a></li><li><a href="#g:13">Fixed point numbers</a></li><li><a href="#g:14">Fixed size vectors</a></li><li><a href="#g:15">Perfect depth trees</a></li></ul></li><li><a href="#g:16">Annotations</a></li><li><a href="#g:17">Type-level natural numbers</a></li><li><a href="#g:18">Type classes</a><ul><li><a href="#g:19">CLaSH</a></li><li><a href="#g:20">Other</a></li></ul></li><li><a href="#g:21">Exceptions</a></li><li><a href="#g:22">Named types</a></li><li><a href="#g:23">Haskell Prelude</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p><strong>This is the <a href="https://downloads.haskell.org/~ghc/latest/docs/html/users_guide/safe-haskell.html">Safe</a> API only of <a href="CLaSH-Prelude.html">CLaSH.Prelude</a></strong></p><p>C&#955;aSH (pronounced &#8216;clash&#8217;) is a functional hardware description language that
  borrows both its syntax and semantics from the functional programming language
  Haskell. The merits of using a functional language to describe hardware comes
  from the fact that combinational circuits can be directly modeled as
  mathematical functions and that functional languages lend themselves very well
  at describing and (de-)composing mathematical functions.</p><p>This package provides:</p><ul><li>Prelude library containing datatypes and functions for circuit design</li></ul><p>To use the library:</p><ul><li>Import <a href="CLaSH-Prelude.html">CLaSH.Prelude</a></li><li>Additionally import <a href="CLaSH-Prelude-Explicit.html">CLaSH.Prelude.Explicit</a> if you want to design
    explicitly clocked circuits in a multi-clock setting</li></ul><p>For now, <a href="CLaSH-Prelude.html">CLaSH.Prelude</a> is also the best starting point for exploring the
  library. A preliminary version of a tutorial can be found in <a href="CLaSH-Tutorial.html">CLaSH.Tutorial</a>.
  Some circuit examples can be found in <a href="CLaSH-Examples.html">CLaSH.Examples</a>.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:mealy">mealy</a> :: (s -&gt; i -&gt; (s, o)) -&gt; s -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> i -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> o</li><li class="src short"><a href="#v:mealyB">mealyB</a> :: (<a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> i, <a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> o) =&gt; (s -&gt; i -&gt; (s, o)) -&gt; s -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> i -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> o</li><li class="src short"><a href="#v:-60--94--62-">(&lt;^&gt;)</a> :: (<a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> i, <a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> o) =&gt; (s -&gt; i -&gt; (s, o)) -&gt; s -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> i -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> o</li><li class="src short"><a href="#v:moore">moore</a> :: (s -&gt; i -&gt; s) -&gt; (s -&gt; o) -&gt; s -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> i -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> o</li><li class="src short"><a href="#v:mooreB">mooreB</a> :: (<a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> i, <a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> o) =&gt; (s -&gt; i -&gt; s) -&gt; (s -&gt; o) -&gt; s -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> i -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> o</li><li class="src short"><a href="#v:registerB">registerB</a> :: <a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> a =&gt; a -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> a -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> a</li><li class="src short"><a href="#v:asyncRom">asyncRom</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Enum">Enum</a> addr) =&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> n a -&gt; addr -&gt; a</li><li class="src short"><a href="#v:asyncRomPow2">asyncRomPow2</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n =&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> (2 <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:-94-">^</a> n) a -&gt; <a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n -&gt; a</li><li class="src short"><a href="#v:rom">rom</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> m) =&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> n a -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> m) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</li><li class="src short"><a href="#v:romPow2">romPow2</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n =&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> (2 <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:-94-">^</a> n) a -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</li><li class="src short"><a href="#v:asyncRam">asyncRam</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Enum">Enum</a> addr =&gt; <a href="CLaSH-Promoted-Nat.html#t:SNat">SNat</a> n -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> addr -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a)) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</li><li class="src short"><a href="#v:asyncRamPow2">asyncRamPow2</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n =&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n, a)) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</li><li class="src short"><a href="#v:blockRam">blockRam</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Enum">Enum</a> addr) =&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> n a -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> addr -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a)) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</li><li class="src short"><a href="#v:blockRamPow2">blockRamPow2</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n =&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> (2 <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:-94-">^</a> n) a -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n, a)) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</li><li class="src short"><a href="#v:readNew">readNew</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> addr =&gt; (<a href="CLaSH-Signal.html#t:Signal">Signal</a> addr -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a)) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> addr -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a)) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</li><li class="src short"><a href="#v:readNew-39-">readNew'</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> addr =&gt; <a href="CLaSH-Signal-Internal.html#t:SClock">SClock</a> clk -&gt; (<a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk addr -&gt; <a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a)) -&gt; <a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk a) -&gt; <a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk addr -&gt; <a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a)) -&gt; <a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk a</li><li class="src short"><a href="#v:isRising">isRising</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Bounded">Bounded</a> a, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> a) =&gt; a -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short"><a href="#v:isFalling">isFalling</a> :: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Bounded">Bounded</a> a, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> a) =&gt; a -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></li><li class="src short">module <a href="CLaSH-Signal.html">CLaSH.Signal</a></li><li class="src short">module <a href="CLaSH-Signal-Delayed.html">CLaSH.Signal.Delayed</a></li><li class="src short">module <a href="CLaSH-Prelude-DataFlow.html">CLaSH.Prelude.DataFlow</a></li><li class="src short">module <a href="CLaSH-Sized-BitVector.html">CLaSH.Sized.BitVector</a></li><li class="src short">module <a href="CLaSH-Prelude-BitIndex.html">CLaSH.Prelude.BitIndex</a></li><li class="src short">module <a href="CLaSH-Prelude-BitReduction.html">CLaSH.Prelude.BitReduction</a></li><li class="src short">module <a href="CLaSH-Sized-Signed.html">CLaSH.Sized.Signed</a></li><li class="src short">module <a href="CLaSH-Sized-Unsigned.html">CLaSH.Sized.Unsigned</a></li><li class="src short">module <a href="CLaSH-Sized-Index.html">CLaSH.Sized.Index</a></li><li class="src short">module <a href="CLaSH-Sized-Fixed.html">CLaSH.Sized.Fixed</a></li><li class="src short">module <a href="CLaSH-Sized-Vector.html">CLaSH.Sized.Vector</a></li><li class="src short">module <a href="CLaSH-Sized-RTree.html">CLaSH.Sized.RTree</a></li><li class="src short">module <a href="CLaSH-Annotations-TopEntity.html">CLaSH.Annotations.TopEntity</a></li><li class="src short">module <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html">GHC.TypeLits</a></li><li class="src short">module <a href="file:///Users/william/Documents/Projects/HMath/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/ghc-typelits-extra-0.2.2/html/GHC-TypeLits-Extra.html">GHC.TypeLits.Extra</a></li><li class="src short">module <a href="CLaSH-Promoted-Nat.html">CLaSH.Promoted.Nat</a></li><li class="src short">module <a href="CLaSH-Promoted-Nat-Literals.html">CLaSH.Promoted.Nat.Literals</a></li><li class="src short">module <a href="CLaSH-Promoted-Nat-TH.html">CLaSH.Promoted.Nat.TH</a></li><li class="src short">module <a href="CLaSH-Class-BitPack.html">CLaSH.Class.BitPack</a></li><li class="src short">module <a href="CLaSH-Class-Num.html">CLaSH.Class.Num</a></li><li class="src short">module <a href="CLaSH-Class-Resize.html">CLaSH.Class.Resize</a></li><li class="src short">module <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Control-Applicative.html">Control.Applicative</a></li><li class="src short">module <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bits.html">Data.Bits</a></li><li class="src short">module <a href="CLaSH-XException.html">CLaSH.XException</a></li><li class="src short"><a href="#v:undefined">undefined</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-Stack.html#t:HasCallStack">HasCallStack</a> =&gt; a</li><li class="src short">module <a href="CLaSH-NamedTypes.html">CLaSH.NamedTypes</a></li><li class="src short">module <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html">Prelude</a></li></ul></div><div id="interface"><h1 id="g:1">Creating synchronous sequential circuits</h1><div class="top"><p class="src"><a id="v:mealy" class="def">mealy</a> <a href="#v:mealy" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (s -&gt; i -&gt; (s, o))</td><td class="doc"><p>Transfer function in mealy machine form:
 <code>state -&gt; input -&gt; (newstate,output)</code></p></td></tr><tr><td class="src">-&gt; s</td><td class="doc"><p>Initial state</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> i -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> o</td><td class="doc"><p>Synchronous sequential function with input and output matching that
 of the mealy machine</p></td></tr></table></div><div class="doc"><p>Create a synchronous function from a combinational function describing
 a mealy machine</p><pre>mac :: Int        -- Current state
    -&gt; (Int,Int)  -- Input
    -&gt; (Int,Int)  -- (Updated state, output)
mac s (x,y) = (s',s)
  where
    s' = x * y + s

topEntity :: <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> (Int, Int) -&gt; <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int
topEntity = <code><a href="CLaSH-Prelude-Safe.html#v:mealy">mealy</a></code> mac 0
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>simulate topEntity [(1,1),(2,2),(3,3),(4,4)]
</code></strong>[0,1,5,14...
...
</pre><p>Synchronous sequential functions can be composed just like their
 combinational counterpart:</p><pre>dualMac :: (<code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int, <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int)
        -&gt; (<code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int, <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int)
        -&gt; <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int
dualMac (a,b) (x,y) = s1 + s2
  where
    s1 = <code><a href="CLaSH-Prelude-Safe.html#v:mealy">mealy</a></code> mac 0 (<code><a href="CLaSH-Signal.html#v:bundle">bundle</a></code> (a,x))
    s2 = <code><a href="CLaSH-Prelude-Safe.html#v:mealy">mealy</a></code> mac 0 (<code><a href="CLaSH-Signal.html#v:bundle">bundle</a></code> (b,y))
</pre></div></div><div class="top"><p class="src"><a id="v:mealyB" class="def">mealyB</a> <a href="#v:mealyB" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> i, <a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (s -&gt; i -&gt; (s, o))</td><td class="doc"><p>Transfer function in mealy machine form:
 <code>state -&gt; input -&gt; (newstate,output)</code></p></td></tr><tr><td class="src">-&gt; s</td><td class="doc"><p>Initial state</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> i -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> o</td><td class="doc"><p>Synchronous sequential function with input and output matching that
 of the mealy machine</p></td></tr></table></div><div class="doc"><p>A version of <code><a href="CLaSH-Prelude-Safe.html#v:mealy">mealy</a></code> that does automatic <code><a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a></code>ing</p><p>Given a function <code>f</code> of type:</p><pre><strong>f</strong> :: Int -&gt; (Bool, Int) -&gt; (Int, (Int, Bool))
</pre><p>When we want to make compositions of <code>f</code> in <code>g</code> using <code><a href="CLaSH-Prelude-Safe.html#v:mealy">mealy</a></code>, we have to
 write:</p><pre>g a b c = (b1,b2,i2)
  where
    (i1,b1) = <code><a href="CLaSH-Signal.html#v:unbundle">unbundle</a></code> (<code><a href="CLaSH-Prelude-Safe.html#v:mealy">mealy</a></code> f 0 (<code><a href="CLaSH-Signal.html#v:bundle">bundle</a></code> (a,b)))
    (i2,b2) = <code><a href="CLaSH-Signal.html#v:unbundle">unbundle</a></code> (<code><a href="CLaSH-Prelude-Safe.html#v:mealy">mealy</a></code> f 3 (<code><a href="CLaSH-Signal.html#v:bundle">bundle</a></code> (i1,c)))
</pre><p>Using <code><a href="CLaSH-Prelude-Safe.html#v:mealyB">mealyB</a></code> however we can write:</p><pre>g a b c = (b1,b2,i2)
  where
    (i1,b1) = <code><a href="CLaSH-Prelude-Safe.html#v:mealyB">mealyB</a></code> f 0 (a,b)
    (i2,b2) = <code><a href="CLaSH-Prelude-Safe.html#v:mealyB">mealyB</a></code> f 3 (i1,c)
</pre></div></div><div class="top"><p class="src"><a id="v:-60--94--62-" class="def">(&lt;^&gt;)</a> <a href="#v:-60--94--62-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> i, <a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (s -&gt; i -&gt; (s, o))</td><td class="doc"><p>Transfer function in mealy machine form:
 <code>state -&gt; input -&gt; (newstate,output)</code></p></td></tr><tr><td class="src">-&gt; s</td><td class="doc"><p>Initial state</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> i -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> o</td><td class="doc"><p>Synchronous sequential function with input and output matching that
 of the mealy machine</p></td></tr></table></div><div class="doc"><p>Infix version of <code><a href="CLaSH-Prelude-Safe.html#v:mealyB">mealyB</a></code></p></div></div><div class="top"><p class="src"><a id="v:moore" class="def">moore</a> <a href="#v:moore" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (s -&gt; i -&gt; s)</td><td class="doc"><p>Transfer function in moore machine form:
 <code>state -&gt; input -&gt; newstate</code></p></td></tr><tr><td class="src">-&gt; (s -&gt; o)</td><td class="doc"><p>Output function in moore machine form:
 <code>state -&gt; output</code></p></td></tr><tr><td class="src">-&gt; s</td><td class="doc"><p>Initial state</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> i -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> o</td><td class="doc"><p>Synchronous sequential function with input and output matching that
 of the moore machine</p></td></tr></table></div><div class="doc"><p>Create a synchronous function from a combinational function describing
 a moore machine</p><pre>mac :: Int        -- Current state
    -&gt; (Int,Int)  -- Input
    -&gt; Int        -- Updated state
mac s (x,y) = x * y + s

topEntity :: <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> (Int, Int) -&gt; <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int
topEntity = <code><a href="CLaSH-Prelude-Safe.html#v:moore">moore</a></code> mac id 0
</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>simulate topEntity [(1,1),(2,2),(3,3),(4,4)]
</code></strong>[0,1,5,14...
...
</pre><p>Synchronous sequential functions can be composed just like their
 combinational counterpart:</p><pre>dualMac :: (<code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int, <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int)
        -&gt; (<code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int, <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int)
        -&gt; <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> Int
dualMac (a,b) (x,y) = s1 + s2
  where
    s1 = <code><a href="CLaSH-Prelude-Safe.html#v:moore">moore</a></code> mac id 0 (<code><a href="CLaSH-Signal.html#v:bundle">bundle</a></code> (a,x))
    s2 = <code><a href="CLaSH-Prelude-Safe.html#v:moore">moore</a></code> mac id 0 (<code><a href="CLaSH-Signal.html#v:bundle">bundle</a></code> (b,y))
</pre></div></div><div class="top"><p class="src"><a id="v:mooreB" class="def">mooreB</a> <a href="#v:mooreB" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> i, <a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> o)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (s -&gt; i -&gt; s)</td><td class="doc"><p>Transfer function in moore machine form:
 <code>state -&gt; input -&gt; newstate</code></p></td></tr><tr><td class="src">-&gt; (s -&gt; o)</td><td class="doc"><p>Output function in moore machine form:
 <code>state -&gt; output</code></p></td></tr><tr><td class="src">-&gt; s</td><td class="doc"><p>Initial state</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> i -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> o</td><td class="doc"><p>Synchronous sequential function with input and output matching that
 of the moore machine</p></td></tr></table></div><div class="doc"><p>A version of <code><a href="CLaSH-Prelude-Safe.html#v:moore">moore</a></code> that does automatic <code><a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a></code>ing</p><p>Given a functions <code>t</code> and <code>o</code> of types:</p><pre><strong>t</strong> :: Int -&gt; (Bool, Int) -&gt; Int
<strong>o</strong> :: Int -&gt; (Int, Bool)
</pre><p>When we want to make compositions of <code>t</code> and <code>o</code> in <code>g</code> using <code><a href="CLaSH-Prelude-Safe.html#v:moore">moore</a></code>, we have to
 write:</p><pre>g a b c = (b1,b2,i2)
  where
    (i1,b1) = <code><a href="CLaSH-Signal.html#v:unbundle">unbundle</a></code> (<code><a href="CLaSH-Prelude-Safe.html#v:moore">moore</a></code> t o 0 (<code><a href="CLaSH-Signal.html#v:bundle">bundle</a></code> (a,b)))
    (i2,b2) = <code><a href="CLaSH-Signal.html#v:unbundle">unbundle</a></code> (<code><a href="CLaSH-Prelude-Safe.html#v:moore">moore</a></code> t o 3 (<code><a href="CLaSH-Signal.html#v:bundle">bundle</a></code> (i1,c)))
</pre><p>Using <code><a href="CLaSH-Prelude-Safe.html#v:mooreB">mooreB</a></code> however we can write:</p><pre>g a b c = (b1,b2,i2)
  where
    (i1,b1) = <code><a href="CLaSH-Prelude-Safe.html#v:mooreB">mooreB</a></code> t o 0 (a,b)
    (i2,b2) = <code><a href="CLaSH-Prelude-Safe.html#v:mooreB">mooreB</a></code> t o 3 (i1,c)
</pre></div></div><div class="top"><p class="src"><a id="v:registerB" class="def">registerB</a> :: <a href="CLaSH-Signal-Bundle.html#t:Bundle">Bundle</a> a =&gt; a -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> a -&gt; <a href="CLaSH-Signal.html#t:Unbundled">Unbundled</a> a <span class="fixity">infixr 3</span><span class="rightedge"></span> <a href="#v:registerB" class="selflink">#</a></p><div class="doc"><p>Create a <code><a href="CLaSH-Signal.html#v:register">register</a></code> function for product-type like signals (e.g. '(Signal a, Signal b)')</p><pre>rP :: (Signal Int,Signal Int) -&gt; (Signal Int, Signal Int)
rP = registerB (8,8)</pre><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>simulateB rP [(1,1),(2,2),(3,3)] :: [(Int,Int)]
</code></strong>[(8,8),(1,1),(2,2),(3,3)...
...
</pre></div></div><h1 id="g:2">ROMs</h1><div class="top"><p class="src"><a id="v:asyncRom" class="def">asyncRom</a> <a href="#v:asyncRom" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Enum">Enum</a> addr)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> n a</td><td class="doc"><p>ROM content</p><p><strong>NB:</strong> must be a constant</p></td></tr><tr><td class="src">-&gt; addr</td><td class="doc"><p>Read address <code>rd</code></p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>The value of the ROM at address <code>rd</code></p></td></tr></table></div><div class="doc"><p>An asynchronous/combinational ROM with space for <code>n</code> elements</p><p>Additional helpful information:</p><ul><li>See <a href="CLaSH-Sized-Fixed.html#creatingdatafiles">CLaSH.Sized.Fixed</a> and <a href="CLaSH-Prelude-BlockRam.html#usingrams">CLaSH.Prelude.BlockRam</a>
 for ideas on how to use ROMs and RAMs</li></ul></div></div><div class="top"><p class="src"><a id="v:asyncRomPow2" class="def">asyncRomPow2</a> <a href="#v:asyncRomPow2" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> (2 <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:-94-">^</a> n) a</td><td class="doc"><p>ROM content</p><p><strong>NB:</strong> must be a constant</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n</td><td class="doc"><p>Read address <code>rd</code></p></td></tr><tr><td class="src">-&gt; a</td><td class="doc"><p>The value of the ROM at address <code>rd</code></p></td></tr></table></div><div class="doc"><p>An asynchronous/combinational ROM with space for 2^<code>n</code> elements</p><p>Additional helpful information:</p><ul><li>See <a href="CLaSH-Sized-Fixed.html#creatingdatafiles">CLaSH.Sized.Fixed</a> and <a href="CLaSH-Prelude-BlockRam.html#usingrams">CLaSH.Prelude.BlockRam</a>
 for ideas on how to use ROMs and RAMs</li></ul></div></div><div class="top"><p class="src"><a id="v:rom" class="def">rom</a> <a href="#v:rom" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> n a</td><td class="doc"><p>ROM content</p><p><strong>NB:</strong> must be a constant</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> m)</td><td class="doc"><p>Read address <code>rd</code></p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</td><td class="doc"><p>The value of the ROM at address <code>rd</code></p></td></tr></table></div><div class="doc"><p>A ROM with a synchronous read port, with space for <code>n</code> elements</p><ul><li><strong>NB</strong>: Read value is delayed by 1 cycle</li><li><strong>NB</strong>: Initial output value is <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#v:undefined">undefined</a></code></li></ul><p>Additional helpful information:</p><ul><li>See <a href="CLaSH-Sized-Fixed.html#creatingdatafiles">CLaSH.Sized.Fixed</a> and <a href="CLaSH-Prelude-BlockRam.html#usingrams">CLaSH.Prelude.BlockRam</a>
 for ideas on how to use ROMs and RAMs</li></ul></div></div><div class="top"><p class="src"><a id="v:romPow2" class="def">romPow2</a> <a href="#v:romPow2" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> (2 <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:-94-">^</a> n) a</td><td class="doc"><p>ROM content</p><p><strong>NB:</strong> must be a constant</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n)</td><td class="doc"><p>Read address <code>rd</code></p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</td><td class="doc"><p>The value of the ROM at address <code>rd</code></p></td></tr></table></div><div class="doc"><p>A ROM with a synchronous read port, with space for 2^<code>n</code> elements</p><ul><li><strong>NB</strong>: Read value is delayed by 1 cycle</li><li><strong>NB</strong>: Initial output value is <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#v:undefined">undefined</a></code></li></ul><p>Additional helpful information:</p><ul><li>See <a href="CLaSH-Sized-Fixed.html#creatingdatafiles">CLaSH.Sized.Fixed</a> and <a href="CLaSH-Prelude-BlockRam.html#usingrams">CLaSH.Prelude.BlockRam</a>
 for ideas on how to use ROMs and RAMs</li></ul></div></div><h1 id="g:3">RAM primitives with a combinational read port</h1><div class="top"><p class="src"><a id="v:asyncRam" class="def">asyncRam</a> <a href="#v:asyncRam" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Enum">Enum</a> addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="CLaSH-Promoted-Nat.html#t:SNat">SNat</a> n</td><td class="doc"><p>Size <code>n</code> of the RAM</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> addr</td><td class="doc"><p>Read address <code>r</code></p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a))</td><td class="doc"><p>(write address <code>w</code>, value to write)</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</td><td class="doc"><p>Value of the <code>RAM</code> at address <code>r</code></p></td></tr></table></div><div class="doc"><p>Create a RAM with space for <code>n</code> elements.</p><ul><li><strong>NB</strong>: Initial content of the RAM is <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#v:undefined">undefined</a></code></li></ul><p>Additional helpful information:</p><ul><li>See <a href="CLaSH-Prelude-BlockRam.html#usingrams">CLaSH.Prelude.BlockRam</a> for more information on how to use a
 RAM.</li></ul></div></div><div class="top"><p class="src"><a id="v:asyncRamPow2" class="def">asyncRamPow2</a> <a href="#v:asyncRamPow2" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n)</td><td class="doc"><p>Read address <code>r</code></p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n, a))</td><td class="doc"><p>(write address <code>w</code>, value to write)</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</td><td class="doc"><p>Value of the <code>RAM</code> at address <code>r</code></p></td></tr></table></div><div class="doc"><p>Create a RAM with space for 2^<code>n</code> elements</p><ul><li><strong>NB</strong>: Initial content of the RAM is <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#v:undefined">undefined</a></code></li></ul><p>Additional helpful information:</p><ul><li>See <a href="CLaSH-Prelude-BlockRam.html#usingrams">CLaSH.Prelude.BlockRam</a> for more information on how to use a
 RAM.</li></ul></div></div><h1 id="g:4">BlockRAM primitives</h1><div class="top"><p class="src"><a id="v:blockRam" class="def">blockRam</a> <a href="#v:blockRam" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Enum">Enum</a> addr)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> n a</td><td class="doc"><p>Initial content of the BRAM, also
 determines the size, <code>n</code>, of the BRAM.</p><p><strong>NB</strong>: <strong>MUST</strong> be a constant.</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> addr</td><td class="doc"><p>Read address <code>r</code></p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a))</td><td class="doc"><p>(write address <code>w</code>, value to write)</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</td><td class="doc"><p>Value of the <code>blockRAM</code> at address <code>r</code> from the previous clock
 cycle</p></td></tr></table></div><div class="doc"><p>Create a blockRAM with space for <code>n</code> elements.</p><ul><li><strong>NB</strong>: Read value is delayed by 1 cycle</li><li><strong>NB</strong>: Initial output value is <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#v:undefined">undefined</a></code></li></ul><pre>bram40 :: <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> (<code><a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a></code> 6)
       -&gt; <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> (Maybe (<code><a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a></code> 6, <code><a href="CLaSH-Sized-BitVector.html#v:Bit">Bit</a></code>))
       -&gt; <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> <code><a href="CLaSH-Sized-BitVector.html#v:Bit">Bit</a></code>
bram40 = <code><a href="CLaSH-Prelude-Safe.html#v:blockRam">blockRam</a></code> (<code><a href="CLaSH-Sized-Vector.html#v:replicate">replicate</a></code> d40 1)
</pre><p>Additional helpful information:</p><ul><li>See <a href="CLaSH-Prelude-BlockRam.html#usingrams">CLaSH.Prelude.BlockRam</a> for more information on how to use a
 Block RAM.</li><li>Use the adapter <code><a href="CLaSH-Prelude-Safe.html#v:readNew">readNew</a></code> for obtaining write-before-read semantics like this: <code>readNew (blockRam inits) rd wrM</code>.</li></ul></div></div><div class="top"><p class="src"><a id="v:blockRamPow2" class="def">blockRamPow2</a> <a href="#v:blockRamPow2" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:KnownNat">KnownNat</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a> (2 <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html#t:-94-">^</a> n) a</td><td class="doc"><p>Initial content of the BRAM, also
 determines the size, <code>2^n</code>, of the BRAM.</p><p><strong>NB</strong>: <strong>MUST</strong> be a constant.</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n)</td><td class="doc"><p>Read address <code>r</code></p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a> n, a))</td><td class="doc"><p>(write address <code>w</code>, value to write)</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</td><td class="doc"><p>Value of the <code>blockRAM</code> at address <code>r</code> from the previous clock
 cycle</p></td></tr></table></div><div class="doc"><p>Create a blockRAM with space for 2^<code>n</code> elements</p><ul><li><strong>NB</strong>: Read value is delayed by 1 cycle</li><li><strong>NB</strong>: Initial output value is <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#v:undefined">undefined</a></code></li></ul><pre>bram32 :: <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> (<code><a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a></code> 5)
       -&gt; <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> (Maybe (<code><a href="CLaSH-Sized-Internal-Unsigned.html#t:Unsigned">Unsigned</a></code> 5, <code><a href="CLaSH-Sized-BitVector.html#v:Bit">Bit</a></code>))
       -&gt; <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> <code><a href="CLaSH-Sized-BitVector.html#v:Bit">Bit</a></code>
bram32 = <code><a href="CLaSH-Prelude-Safe.html#v:blockRamPow2">blockRamPow2</a></code> (<code><a href="CLaSH-Sized-Vector.html#v:replicate">replicate</a></code> d32 1)
</pre><p>Additional helpful information:</p><ul><li>See <a href="CLaSH-Prelude-BlockRam.html#usingrams">CLaSH.Prelude.BlockRam</a> for more information on how to use a
 Block RAM.</li><li>Use the adapter <code><a href="CLaSH-Prelude-Safe.html#v:readNew">readNew</a></code> for obtaining write-before-read semantics like this: <code>readNew (blockRamPow2 inits) rd wrM</code>.</li></ul></div></div><h1 id="g:5">BlockRAM read/write conflict resolution</h1><div class="top"><p class="src"><a id="v:readNew" class="def">readNew</a> <a href="#v:readNew" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="CLaSH-Signal.html#t:Signal">Signal</a> addr -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a)) -&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a)</td><td class="doc"><p>The <code>ram</code> component</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> addr</td><td class="doc"><p>Read address <code>r</code></p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a))</td><td class="doc"><p>(Write address <code>w</code>, value to write)</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</td><td class="doc"><p>Value of the <code>ram</code> at address <code>r</code> from the previous clock
 cycle</p></td></tr></table></div><div class="doc"><p>Create read-after-write blockRAM from a read-before-write one (synchronised to system clock)</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import CLaSH.Prelude
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>:t readNew (blockRam (0 :&gt; 1 :&gt; Nil))
</code></strong>readNew (blockRam (0 :&gt; 1 :&gt; Nil))
  :: ... =&gt;
     Signal addr -&gt; Signal (Maybe (addr, a)) -&gt; Signal a
</pre></div></div><div class="top"><p class="src"><a id="v:readNew-39-" class="def">readNew'</a> <a href="#v:readNew-39-" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> addr</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="CLaSH-Signal-Internal.html#t:SClock">SClock</a> clk</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; (<a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk addr -&gt; <a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a)) -&gt; <a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk a)</td><td class="doc"><p>The <code>ram</code> component</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk addr</td><td class="doc"><p>Read address <code>r</code></p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Maybe.html#t:Maybe">Maybe</a> (addr, a))</td><td class="doc"><p>(Write address <code>w</code>, value to write)</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal-Internal.html#t:Signal-39-">Signal'</a> clk a</td><td class="doc"><p>Value of the <code>ram</code> at address <code>r</code> from the previous clock
 cycle</p></td></tr></table></div><div class="doc"><p>Create read-after-write blockRAM from a read-before-write one (synchronised to specified clock)</p></div></div><h1 id="g:6">Utility functions</h1><div class="top"><p class="src"><a id="v:isRising" class="def">isRising</a> <a href="#v:isRising" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Bounded">Bounded</a> a, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>Starting value</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Give a pulse when the <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> goes from <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#v:minBound">minBound</a></code> to <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#v:maxBound">maxBound</a></code></p></div></div><div class="top"><p class="src"><a id="v:isFalling" class="def">isFalling</a> <a href="#v:isFalling" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#t:Bounded">Bounded</a> a, <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Eq.html#t:Eq">Eq</a> a)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; a</td><td class="doc"><p>Starting value</p></td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; <a href="CLaSH-Signal.html#t:Signal">Signal</a> <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Give a pulse when the <code><a href="CLaSH-Signal.html#t:Signal">Signal</a></code> goes from <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#v:maxBound">maxBound</a></code> to <code><a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html#v:minBound">minBound</a></code></p></div></div><h1 id="g:7">Exported modules</h1><h2 id="g:8">Synchronous signals</h2><div class="top"><p class="src">module <a href="CLaSH-Signal.html">CLaSH.Signal</a></p></div><div class="top"><p class="src">module <a href="CLaSH-Signal-Delayed.html">CLaSH.Signal.Delayed</a></p></div><h2 id="g:9">DataFlow interface</h2><div class="top"><p class="src">module <a href="CLaSH-Prelude-DataFlow.html">CLaSH.Prelude.DataFlow</a></p></div><h2 id="g:10">Datatypes</h2><h3 id="g:11">Bit vectors</h3><div class="top"><p class="src">module <a href="CLaSH-Sized-BitVector.html">CLaSH.Sized.BitVector</a></p></div><div class="top"><p class="src">module <a href="CLaSH-Prelude-BitIndex.html">CLaSH.Prelude.BitIndex</a></p></div><div class="top"><p class="src">module <a href="CLaSH-Prelude-BitReduction.html">CLaSH.Prelude.BitReduction</a></p></div><h3 id="g:12">Arbitrary-width numbers</h3><div class="top"><p class="src">module <a href="CLaSH-Sized-Signed.html">CLaSH.Sized.Signed</a></p></div><div class="top"><p class="src">module <a href="CLaSH-Sized-Unsigned.html">CLaSH.Sized.Unsigned</a></p></div><div class="top"><p class="src">module <a href="CLaSH-Sized-Index.html">CLaSH.Sized.Index</a></p></div><h3 id="g:13">Fixed point numbers</h3><div class="top"><p class="src">module <a href="CLaSH-Sized-Fixed.html">CLaSH.Sized.Fixed</a></p></div><h3 id="g:14">Fixed size vectors</h3><div class="top"><p class="src">module <a href="CLaSH-Sized-Vector.html">CLaSH.Sized.Vector</a></p></div><h3 id="g:15">Perfect depth trees</h3><div class="top"><p class="src">module <a href="CLaSH-Sized-RTree.html">CLaSH.Sized.RTree</a></p></div><h2 id="g:16">Annotations</h2><div class="top"><p class="src">module <a href="CLaSH-Annotations-TopEntity.html">CLaSH.Annotations.TopEntity</a></p></div><h2 id="g:17">Type-level natural numbers</h2><div class="top"><p class="src">module <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-TypeLits.html">GHC.TypeLits</a></p></div><div class="top"><p class="src">module <a href="file:///Users/william/Documents/Projects/HMath/.cabal-sandbox/share/doc/x86_64-osx-ghc-8.0.2/ghc-typelits-extra-0.2.2/html/GHC-TypeLits-Extra.html">GHC.TypeLits.Extra</a></p></div><div class="top"><p class="src">module <a href="CLaSH-Promoted-Nat.html">CLaSH.Promoted.Nat</a></p></div><div class="top"><p class="src">module <a href="CLaSH-Promoted-Nat-Literals.html">CLaSH.Promoted.Nat.Literals</a></p></div><div class="top"><p class="src">module <a href="CLaSH-Promoted-Nat-TH.html">CLaSH.Promoted.Nat.TH</a></p></div><h2 id="g:18">Type classes</h2><h3 id="g:19">CLaSH</h3><div class="top"><p class="src">module <a href="CLaSH-Class-BitPack.html">CLaSH.Class.BitPack</a></p></div><div class="top"><p class="src">module <a href="CLaSH-Class-Num.html">CLaSH.Class.Num</a></p></div><div class="top"><p class="src">module <a href="CLaSH-Class-Resize.html">CLaSH.Class.Resize</a></p></div><h3 id="g:20">Other</h3><div class="top"><p class="src">module <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Control-Applicative.html">Control.Applicative</a></p></div><div class="top"><p class="src">module <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Data-Bits.html">Data.Bits</a></p></div><h2 id="g:21">Exceptions</h2><div class="top"><p class="src">module <a href="CLaSH-XException.html">CLaSH.XException</a></p></div><div class="top"><p class="src"><a id="v:undefined" class="def">undefined</a> :: <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/GHC-Stack.html#t:HasCallStack">HasCallStack</a> =&gt; a <a href="#v:undefined" class="selflink">#</a></p></div><h2 id="g:22">Named types</h2><div class="top"><p class="src">module <a href="CLaSH-NamedTypes.html">CLaSH.NamedTypes</a></p></div><h2 id="g:23">Haskell Prelude</h2><div class="doc"><p><a href="CLaSH-Prelude.html">CLaSH.Prelude</a> re-exports most of the Haskell <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html">Prelude</a> with the exception of
the following: (++), (!!), concat, drop, foldl, foldl1, foldr, foldr1, head,
init, iterate, last, length, map, repeat, replicate, reverse, scanl, scanr,
splitAt, tail, take, unzip, unzip3, zip, zip3, zipWith, zipWith3.</p><p>It instead exports the identically named functions defined in terms of
<code><a href="CLaSH-Sized-Vector.html#t:Vec">Vec</a></code> at <a href="CLaSH-Sized-Vector.html">CLaSH.Sized.Vector</a>.</p></div><div class="top"><p class="src">module <a href="file:///Library/Frameworks/GHC.framework/Versions/8.0.2-x86_64/usr/share/doc/ghc-8.0.2/html/libraries/base-4.9.1.0/Prelude.html">Prelude</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>